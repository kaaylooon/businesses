{% extends "base.html" %}
{% block content %}

{% if session.get('user_id') == business[7] %}
<a class="btn btn-secondary position-fixed bottom-0 end-0 m-4 rounded-circle d-flex justify-content-center align-items-center shadow-sm"
    style="width: 60px; height: 60px; z-index: 1050;"
    href="editbusiness">
  <span class="material-symbols-outlined" style="font-size: 28px; line-height: 1;">edit</span>
</a>
{% endif %}

<div class="container mt-5 p-5 pt-0">
  <div class="border-0 mb-4">
    <div class="d-flex align-items-center">
      {% if business[5] %}
      <img src="{{ url_for('static', filename='uploads/' ~ business[5]) }}" 
           alt="{{ business[1] }}" 
           class="rounded-circle me-3"
           style="width: 50px; height: 50px; object-fit: cover;">
      {% endif %}

      <h2 class="card-title mb-0 d-flex align-items-center flex-grow-1">
        {{ business[1] }}
        <span class="badge bg-primary ms-auto" style="font-size: 0.4em; height: fit-content;">
          {{ business[3] }}
        </span>
      </h2>
    </div>
  </div>

<ul class="nav justify-content-center">
  <li class="nav-item">
    <a class="nav-link">Inicial</a>
  </li>
  <li class="nav-item">
    <a class="nav-link">Catálogo</a>
  </li>
  <li class="nav-item">
    <a class="nav-link">Contato</a>
  </li>
</ul>

  <!-- Card da descrição -->
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h5 class="card-title">Descrição</h5>
      <p class="card-text">{{ business[2] }}</p>
    </div>
  </div>

 <!-- Carousel -->
  <div id="carouselExampleControls" class="carousel slide mb-4" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100" src="https://placehold.co/1200x400?text=Slide+1" alt="Slide 1">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="https://placehold.co/1200x400?text=Slide+2" alt="Slide 2">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="https://placehold.co/1200x400?text=Slide+3" alt="Slide 3">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Próximo</span>
    </button>
  </div>

  <!-- Card de contato -->
  {% if business[4] %}
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h5 class="card-title">Contato</h5> 
      <ul class="list-unstyled">
        {% for c in business[4].split(',') %}
        <li><i class="bi bi-telephone-fill me-2"></i>{{ c.strip() }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- Card do QR Code -->
  <div class="border-0">
    <div class="text-center">
      <h5 class="">Compartilhar</h5>
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ request.url }}" 
           alt="QR code" class="border p-1 rounded">
    </div>
  </div>

</div>

{% endblock %}
